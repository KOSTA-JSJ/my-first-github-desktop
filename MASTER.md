# Rice Variety Vision System (Cursor AI Master Spec)

## 1. 목적
농업 연구소(예: 농협식품연구소)에서
쌀 품종을 사진으로 자동 판별하는 시스템을 만든다.

사용자는:
- 쌀 사진을 드래그해서 업로드하고
- AI가 품종을 판별해주며
- 결과를 엑셀 파일로 다운로드한다

기존의:
- 색깔로 구분된 엑셀
- 육안으로 구분하기 어려운 방식
을 대체하는 것이 목적이다.

---

## 2. 사용자
- 연구소 실무자 (개발 지식 없음)
- 엑셀 결과를 중요하게 사용함

---

## 3. 핵심 기능 (MVP)

### 3-1. 이미지 업로드
- 웹 화면에서 드래그 & 드롭
- 여러 이미지 한 번에 업로드 가능

### 3-2. AI 판별 결과
각 이미지마다:
- 예측된 쌀 품종 (Top-1)
- 신뢰도 점수 (0~1)
- Top-3 후보 품종
- 판별 시간
- 사용된 모델 버전

### 3-3. 결과 화면
- 표 형태
- 신뢰도에 따라 색상 표시
- 품종별 필터 가능

### 3-4. 엑셀 다운로드 (중요)
엑셀에는 다음 컬럼 포함:
- 파일명
- 예측 품종
- 신뢰도
- Top-3 후보
- 판별 시각
- 모델 버전

엑셀 서식:
- 신뢰도 0.9 이상: 연한 강조색
- 0.7~0.9: 중간색
- 0.7 미만: 경고 느낌 색

---

## 4. 기술 방향

### Backend
- Python + FastAPI
- 이미지 업로드 API
- AI 추론 API
- 엑셀 생성 API

### Frontend
- 웹 기반
- 드래그 & 드롭
- 결과 테이블
- 엑셀 다운로드 버튼

### AI 모델
- 처음에는 더미(랜덤 결과)로 시작
- 구조는 실제 모델 교체 가능하게 설계
- 나중에 PyTorch / TensorFlow 모델 연결 가능

---

## 5. 단계별 개발 범위

### Phase 1 (지금 당장)
- 웹 화면
- 이미지 업로드
- 더미 AI 판별
- 엑셀 다운로드 (실제 동작)

### Phase 2 (나중)
- 실제 쌀 이미지 학습
- 품종 수 확장
- 정확도 개선
- 품질 판별 추가

---

## 6. 중요 제약
- 개발자가 아닌 사람도 사용할 수 있어야 함
- 로컬 PC에서 바로 실행 가능해야 함
- 결과는 반드시 엑셀로 남아야 함
